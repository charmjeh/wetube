ê¸°ë³¸ ì˜ˆì œ
```javascript
// app.js
const express from 'express';
const app = express();
const port = 4000;

const sayHello = () => {
    console.log('ì•ˆë…•í•˜ì„¸ìš”');
    console.log('ì €ëŠ” useë¥¼ ì‚¬ìš©í•´ì„œ ëª¨ë“  routerì— ì‹¤í–‰ë ê±°ì—ìš”!');
}

const firstMiddleware = () => {
    console.log('ë¼ìš°í„°ì— ë“±ë¡ëœ ë¯¸ë“¤ì›¨ì–´ëŠ” ìˆœì„œëŒ€ë¡œ ë™ì‘í•©ë‹ˆë‹¤.');
    console.log('first');
}

const firstMiddleware = () => {
    console.log('second');
}

app.use(sayHello);

app.get('/', (req, res) => {
    res.send('Hello World!');
})
app.get('/sampleURL', firstMiddleware, secondMiddleware)
app.listen(port, () => {
    console.log(`http://localhost:${port}`)
})
```

ROUTER êµ¬ë¶„ ê¸°ì¤€
```
app.use('/', globalRouter);
app.use('/api', apiRouter);

/
    - /
    - /login
    - /join
/api
    - /api/v1/item
    - /api/v2/cart
/some/example
(*it's rediculus router for just example)
    - /some/example/item1
    - /some/example/item2
```

ì „ì—­ ë³€ìˆ˜ ì‚¬ìš©  
`res.locals` : [expressì—ì„œ ì œê³µ](http://expressjs.com/ko/api.html#res.locals)
```javascript
// app.js
const express from 'express';
const app = express();
import {localsMiddleware} from './localsMiddleware';

app.use(localsMiddleware);

// localsMiddleware.js
export const localsMiddleware = (req, res, next) => {
    res.locals.siteName = "WeTube"; // ì´ë¶€ë¶„ì´ viewì—ì„œ ì „ì—­ë³€ìˆ˜ë¡œ ì‚¬ìš©ë¨.
    res.locals.routes = routes;
    res.locals.loggedUser = req.user || null;
    next();
};

// views/userDetail.pug
if user.id === loggedUser.id
    .user-profile__btns
        a(href=`/users${routes.editProfile}`)
            button âœï¸ Edit Profile
        a(href=`/users${routes.changePassword}`)
            button ğŸ”’ Change Password
// views/header.pug
html
    head
        title #{pageTitle} | #{siteName}
```

ì§€ì—­ë³€ìˆ˜ ì‚¬ìš©
```javascript
// app.js
const express from 'express';
const app = express();
import globalRouter from './routers/globalRouter';

app.use(globalRouter);

// globalRouter
import express from 'express';
const globalRouter = express.Router();
globalRouter.get('/', (req, res) => {
    res.render('home', {
        pageTitle: 'Home', // ì´ ë¶€ë¶„ì´ viewì—ì„œ ì§€ì—­ ë³€ìˆ˜ë¡œ ì‚¬ìš©ë¨
        videos
    })
})
export default globalRouter;

// views/header.pug
html
    head
        title #{pageTitle} | #{siteName}
```

`res.end` : ë°ì´í„° ì—†ì´ ì‘ë‹µ í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ.  
*`400` : http status code, it means bad request
```javascript
res.status(400).end();
```
